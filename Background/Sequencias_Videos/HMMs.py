from numpy import array
from ghmm import *

sigma = IntegerRange(0,7)
pi = [0.33,0.33,0.33]
A = [[0.5,0.5,0.5],[0.5,0.5,0.5],[0.5,0.5,0.5]]
virado_direita = [0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285]
passo_direita_1 = [0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285]
passo_direita_2 = [0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285, 0.14285714285714285]
B = [virado_direita,passo_direita_1,passo_direita_2]

HMM_passo_para_direita = HMMFromMatrices (sigma, DiscreteDistribution(sigma), A, B, pi)
HMM_passo_para_esquerda = HMMFromMatrices (sigma, DiscreteDistribution(sigma), A, B, pi)

observacao_video = '66666633333333333333333333333333330000000000000000000000000000000000000000000000000000000000003333333333000000000000000000000000000033333333333333333333003333111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111133333300000000000000033333333333333333333333333333333333333333333333333333333333333333333333333333333333333311111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111112222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111111111111111111111111111111111111111111111113333333111111333333333333333333333333333333333333113333333111111111111111111111111111111111111111111111111111111113331111111111211111111111111133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333331111111111111111111111111111111111111111111111111111111111111111211111111111111111111111111111111111333333333111111111133333333333333000333333333333333333333333333330000000000663333366666666666666666666666'
observacao_video_vetor = list(observacao_video)

for i in range(len(observacao_video_vetor)):
	observacao_video_vetor[i] = int(observacao_video_vetor[i])

sequencia_treino_direita = EmissionSequence(sigma,observacao_video_vetor)

HMM_passo_para_direita.baumWelch(sequencia_treino_direita)

print HMM_passo_para_direita
#print observacao_video_vetor

